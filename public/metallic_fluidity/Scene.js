/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
author: Tycho Magnetic Anomaly (https://sketchfab.com/Tycho_Magnetic_Anomaly)
license: CC-BY-4.0 (http://creativecommons.org/licenses/by/4.0/)
source: https://sketchfab.com/3d-models/metallic-fluidity-c1d2273c2c2c4b00a2f06eb75cbe4c7d
title: Metallic Fluidity
*/

import React, { useRef, useMemo } from 'react'
import { useGLTF, Merged, useAnimations } from '@react-three/drei'

export default function InstancedModel(props) {
  const { nodes } = useGLTF('/scene-transformed.glb')
  const instances = useMemo(
    () => ({
      Object: nodes.Object_4,
      Object1: nodes.Object_6,
      Object2: nodes.Object_8,
      Object3: nodes.Object_10,
      Object4: nodes.Object_12,
      Object5: nodes.Object_14,
      Object6: nodes.Object_16,
      Object7: nodes.Object_18,
      Object8: nodes.Object_20,
      Object9: nodes.Object_22,
      Object10: nodes.Object_24,
      Object11: nodes.Object_26,
      Object12: nodes.Object_28,
      Object13: nodes.Object_30,
      Object14: nodes.Object_32,
      Object15: nodes.Object_34,
    }),
    [nodes]
  )
  return (
    <Merged meshes={instances} {...props}>
      {(instances) => <Model instances={instances} />}
    </Merged>
  )
}

function Model({ instances, ...props }) {
  const group = useRef()
  const { nodes, materials, animations } = useGLTF('/scene-transformed.glb')
  const { actions } = useAnimations(animations, group)
  return (
    <group ref={group} {...props} dispose={null}>
      <group name="Sketchfab_Scene">
        <group name="Sketchfab_model" rotation={[-Math.PI / 2, 0, 0]}>
          <group name="root">
            <group name="GLTF_SceneRootNode" rotation={[Math.PI / 2, 0, 0]}>
              <group name="Gear007_0" position={[0, 0.2, 0]}>
                <instances.Object name="Object_4" />
              </group>
              <group name="Gear008_1" position={[0, -0.2, 0]}>
                <instances.Object1 name="Object_6" />
              </group>
              <group name="Gear001_2" position={[0, 0, -0.2]}>
                <instances.Object2 name="Object_8" />
              </group>
              <group name="Gear002_3" position={[0, 0, 0.2]}>
                <instances.Object3 name="Object_10" />
              </group>
              <group name="Gear003_4" position={[0, 0.14, 0.14]}>
                <instances.Object4 name="Object_12" />
              </group>
              <group name="Gear004_5" position={[0, -0.14, -0.14]}>
                <instances.Object5 name="Object_14" />
              </group>
              <group name="Gear005_6" position={[0, 0.14, -0.14]}>
                <instances.Object6 name="Object_16" />
              </group>
              <group name="Gear006_7" position={[0, -0.14, 0.14]}>
                <instances.Object7 name="Object_18" />
              </group>
              <group name="Gear009_8" position={[0, 0.2, 0]}>
                <instances.Object8 name="Object_20" />
              </group>
              <group name="Gear010_9" position={[0, -0.2, 0]}>
                <instances.Object9 name="Object_22" />
              </group>
              <group name="Gear011_10" position={[0.2, 0, 0]}>
                <instances.Object10 name="Object_24" />
              </group>
              <group name="Gear012_11" position={[-0.2, 0, 0]}>
                <instances.Object11 name="Object_26" />
              </group>
              <group name="Gear013_12" position={[-0.14, 0.14, 0]}>
                <instances.Object12 name="Object_28" />
              </group>
              <group name="Gear014_13" position={[0.14, -0.14, 0]}>
                <instances.Object13 name="Object_30" />
              </group>
              <group name="Gear015_14" position={[0.14, 0.14, 0]}>
                <instances.Object14 name="Object_32" />
              </group>
              <group name="Gear016_15" position={[-0.14, -0.14, 0]}>
                <instances.Object15 name="Object_34" />
              </group>
            </group>
          </group>
        </group>
      </group>
    </group>
  )
}

useGLTF.preload('/scene-transformed.glb')
